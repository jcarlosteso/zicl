<!DOCTYPE html>
<html>

<head>
  <title>The Advenjurer &mdash; Overview</title>
  <link rel="stylesheet" href="../styles.css" />
</head>

<body>
  <header>
    <h1>The adven<em>j</em>urer reloaded</h1>
  </header>

  <section>
    <aside>
      <h3>Contents</h3>
      <a href="/">Introduction</a>
      <p>Overview</p>
    </aside>
    <article>
      <small><a href="/">Introduction</a></small>

      <h1>Before we start</h1>

      <p>Since the goal of this project is porting ZIL into Clojure, having a bit of background about what are we working on will probably be useful. Or at least I think it will.</p>
    
      <p>This entry presents:</p>
    
      <ul>
        <li>some background about what ZIL is and how did it come to be,</li>
        <li>what makes ZIL work and what are its big blocks,</li>
        <li>why did I chose Clojure as the target language, and</li>
        <li>what do we get out of the box from Clojure, and which gaps will we have to bridge.</li>
      </ul>

      <h2>A little bit of history</h2>

      <p>Back in 1977, inspired by the popularity of the 1976's <a href="https://en.wikipedia.org/wiki/Colossal_Cave_Adventure" target="_blank" referrerpolicy="no-referrer">Colossal Cave Adventure</a>&nbsp;game, three students and a research staff member at the Dynamic Modelling Group of MIT developed a text-based adventure game called <a href="https://en.wikipedia.org/wiki/Zork" target="_blank" referrerpolicy="no-referrer">Zork</a>, which was eventually expanded and released as three different titles of the Zork Saga.</p>
      
      <p>Zork's initial implementation was <a href="https://en.wikipedia.org/wiki/MDL_(programming_language)" target="_blank" referrerpolicy="no-referrer">MDL</a>&nbsp;code running on a DEC <a href="https://en.wikipedia.org/wiki/PDP-10" target="_blank" referrerpolicy="no-referrer">PDP-10</a> mainframe.</p>

      <p>In 1979, these three students and five more guys launched <a href="https://en.wikipedia.org/wiki/Infocom" target="_blank" referrerpolicy="no-referrer">Infocom</a>&nbsp;and started working on two main directions: creating more games, and making them available in more platforms.</p>

      <p>To achieve the second goal &mdash;portability&mdash; they created a subset of MDL and made it compilable into bytecode that would run in a virtual machine. This way, games would be created once and with no dependencies with the underlying hardware &mdash;as long as there was a virtual machine for a particular platform, the game would run.</p>

      <p>Thus, ZIL (Zork Implementation Language) was born, and so it was the <a href="https://en.wikipedia.org/wiki/Z-machine" target="_blank" referrerpolicy="no-referrer">Z-machine</a>. As stated above, ZIL was a subset of MDL. It had to be compiled and assembled into bytecode <em>(Z-codes)</em> understood by the virtual Z-machine, which most of the times was implemented as a Zork Interpreter Program (ZIP). Since the Z-machine was single-purpose, the Z-code was optimized enough to be run on a personal computer of the eighties.</p>

      <p>So, how did a ZIL game work? Well, it depends on which kind of game we're talking about. Is it pre- or post-Infocom? Before the Z-machine, ZIL &mdash;although it didn't actually exist yet&mdash; was more like a Domain Specific Language running on top of MDL. You could use MDL functions in your code, so ZIL didn't have to bother implementing those, and at the same time you got your syntactic sugar to help you build your game with ease.</p>

      <p>After the birth of Infocom and the creation of ZIL as a language, the compilers and assemblers needed to know how to produce bytecode for the MDL subset inherited by the new language, and the Z-machine needed to support the execution of every instruction in said subset.</p>

      <h2>Springs and sprockets</h2>

      <small><a href="/">Introduction</a></small>
    </article>
  </section>
</body>

</html>